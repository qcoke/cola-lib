<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>demo</title>
	<style type="text/css">
		#results li.pass{color:green;}
		#results li.fail{color:red;}
	</style>
	<script type="text/javascript" src="asserts.js"></script>
</head>
<body>
	<ul id="results">
		
	</ul>
	<script>
		var outerValue = "ninja";
		var later;

		function outerFunction(){
			var innerValue = 'samurai';

			function innerFunction(paramValue){
				assert(outerValue,'Inner can see the ninja.');
				assert(innerValue,'Inner can see the samurai.');
				assert(paramValue,'Inner can see the wakizashi.');
				assert(tooLate,"inner can see the ronin.");
			}
			later = innerFunction;
		}
		assert(!tooLate,"Outer can't see the ronin.");

		var tooLate = 'ronin';
		outerFunction();
		later('wakizashi');
	</script>
</body>
</html>