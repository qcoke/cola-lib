<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>案例</title>
    <link type="text/css" rel="stylesheet" href="../style.css" />
    <script type="text/javascript" src="../asserts.js"></script>
</head>
<body>
    <div id="box" style="position:absolute;background-color:#ccc;border:1px solid #333;width:100px;height:100px;line-height:100px;text-align:center;font-size:12px;">Testing box</div>
    <div id="results"></div>
    <script type="text/javascript">
    function animateIt(elementId){
        var elem = document.getElementById(elementId);
        var tick = 0;
        
        var timer = setInterval(function(){
            // 通过在这里写 TICK 值，避免构建 GLOBLE 对象
            if(tick < 100){
                elem.style.left = elem.style.top = tick + "px";
                tick++;
            }else{
                clearInterval(timer);
                assert(tick == 100, "Tick accessed via a closure.");
                assert(elem, "Element also accessed via a closure.");
                assert(timer, 'Timer reference also obatined via a closure.');
            }
        },10);
    }
    animateIt('box');
    </script>
</body>
</html>