<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>demo11</title>
	<script src="vue.js"></script>
</head>
<body>
	<div id="app1">
		<child v-bind:age="age"></child>
	</div>
	<script>
		Vue.component("child",{
			props:{"age":Number},
			template:"<span>You are {{age}}.</span>"
		});
		new Vue({
			el:"#app1",
			data:{
				age: 30
			}
		});
	</script>
	<hr/>
	<div id="app2">
		{{total}}
		<count ref="b1"></count>
		<count ref="b2"></count>
	</div>
	<script>
		Vue.component('count', {
		  template: '<button v-on:click="inc">{{ count }}</button>',
		  data: function () {
		    return {count: 0}
		  },
		  methods: {
		    inc: function () {
		      this.count+= 1
		      this.$emit('inc')
		    }
		  },
		})
		new Vue({
		  el: '#app2',
		  data: {total: 0},
		  mounted(){
		    this.$refs.b1.$on('inc',this.inc)
		    this.$refs.b2.$on('inc',this.inc)
		  },
		  methods: {
		    inc: function () {
		      this.total += 1
		    }
		  }
		})
	</script>
</body>
</html>